<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Buscar Usuario</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
        }
        h1, h2, h3 {
            color: #333;
        }
        ul {
            list-style-type: none;
            padding-left: 0;
        }
        li {
            padding: 4px 0;
        }
        form {
            margin-bottom: 2rem;
        }
        label, input, button {
            display: block;
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <h1>Buscar Usuario por Cédula</h1>

    <form method="post" action="{{ url_for('buscar.buscar') }}">
        <label for="cedula">Cédula:</label>
        <input type="text" id="cedula" name="cedula" required>
        <button type="submit">Buscar</button>
    </form>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul style="color: red;">
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    {% if persona %}
        <h2>Datos encontrados:</h2>
        <p><strong>Cédula:</strong> {{ persona.cedula }}</p>
        <p><strong>Nombre:</strong> {{ persona.nombre }} {{ persona.apellido }}</p>
        <p><strong>Edad:</strong> {{ persona.edad }}</p>
        <p><strong>Género:</strong> {{ persona.genero }}</p>
        <p><strong>Número de hijos:</strong> {{ persona.numero_hijos }}</p>
        <p><strong>Semanas cotizadas:</strong> {{ persona.semanas_cotizadas }}</p>
        <p><strong>Salarios últimos 10 años:</strong></p>
        <ul>
            <li>{{ persona.salario_1 }}</li>
            <li>{{ persona.salario_2 }}</li>
            <li>{{ persona.salario_3 }}</li>
            <li>{{ persona.salario_4 }}</li>
            <li>{{ persona.salario_5 }}</li>
            <li>{{ persona.salario_6 }}</li>
            <li>{{ persona.salario_7 }}</li>
            <li>{{ persona.salario_8 }}</li>
            <li>{{ persona.salario_9 }}</li>
            <li>{{ persona.salario_10 }}</li>
        </ul>
        {% if pension %}
            <h3 style="color: green;">Pensión calculada: ${{ "%.2f"|format(pension) }}</h3>
        {% endif %}
    {% endif %}
</body>
</html>
